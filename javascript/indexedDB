ì›¹í˜ì´ì§€ì™€ ì‚¬ìš©ìê°€ ìƒí˜¸ì‘ìš©í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ê°€ í•„ìš”í•¨.

IndexedDBëŠ” ìë£Œí˜•ê³¼ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ”ê°ì²´ ì§€í–¥ ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤ì´ë©°,

Clientìª½ì— ì €ì¥ë˜ëŠ” ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤ì„ ì›¹ì˜ ë°ì´í„°ë¥¼ ì„œë²„ê°€ ì•„ë‹Œ ë¸Œë¼ìš°ì €ì— ì €ì¥

ì›¹ì—ì„œ ë°œìƒí•˜ëŠ” awsì—ë„ ì €ì¥í•  ìˆ˜ ìˆì§€ë§Œ ë¸Œë¼ìš°ì €ì—ë„ í•  ìˆ˜ ìˆìŒ. ë„¤íŠ¸ì›Œí¬ì—†ì´ ë¹ ë¥´ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŒ.

IndexedDBëŠ” 
    - ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹˜.(í–‰ê³¼ ì—´ë¡œ ì´ë£¨ì–´ì§„ í…Œì´ë¸” í˜•íƒœ x / sqlì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)
    - ì§ê´€ì ì„
    - ë¸Œë¼ìš°ì €ì˜ ê°ì²´ ì €ì¥ ê°€ëŠ¥ 
    - ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´, íŒŒì¼, blobs(Binary Large Object, ì´ë¯¸ì§€ ì˜¤ë””ì˜¤ ì˜ìƒ ë“±)
    - Transactionì„ ì§€ì›

í´ë¼ì´ì–¸íŠ¸ ì¸¡ ë¸Œë¼ìš°ì €ì— ì €ì¥í•˜ê¸° ìœ„í•œ API 
    - ì¿ í‚¤ : ë¬¸ì„œ ë‚´ë¶€ì— ê°„ë‹¨ ë¬¸ìì—´ ë°ì´í„°ë¥¼ ì €ì¥
    - ë¡œì»¬ ì €ì¥ì†Œ : Json ë°ì´í„°ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥(ìœˆë„ìš°, íƒ­ ë‹«ì•„ë„ ì €ì¥ë¨)
    - ì„¸ì…˜ ì €ì¥ì†Œ : Json ë°ì´í„°ë¥¼ ì˜¤ì§ íƒ­ ì„¸ì…˜ì— ì €ì¥(ìœˆë„ìš°, íƒ­ ë‹«ì„ ê²½ìš° ì‚­ì œ)
    - IndexedDB : Keyë¥¼ ì´ìš©í•´ Indexë˜ëŠ” êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ ì‰½ê²Œ ì €ì¥

IndexedDBëŠ” : ë¸Œë¼ìš°ì € ê¸°ë°˜ ë‚´ì¥ ë°ì´í„°ë² ì´ìŠ¤ JS ê´€ë ¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ë•Œ ì‚¬ìš© ê°€ëŠ¥
    - í‚¤ ê°’ ì €ì¥ ê°€ëŠ¥(Key-value í˜•íƒœì˜ ë°ì´í„°ë² ì´ìŠ¤)
    - Transactionì„ ì§€ì›
    - Key ë²”ìœ„ì˜ ì¿¼ë¦¬ì™€ Indexë¥¼ ì§€ì›
    - localStorageì— ë¹„í•´ í›¨ì”¬ ë§ì€ ë°ì´í„° ì €ì¥ ê°€ëŠ¥
> Indexë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ë§ì€ ì–‘ì˜ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ ë‹¤ë£° ë•Œ ì í•©

ì‘ì—… ìˆœì„œ
1. ë°ì´í„°ë² ì´ìŠ¤ ì—´ê¸°
    - ì²«ë²ˆì§¸ ë²„ì „ ë°ì´í„°ë² ì´ìŠ¤ ê²Œì‹œ(IndexedDB ë°ì´í„°ë² ì´ìŠ¤ ìˆ˜ì • ì‹œ versionì„ ìˆ˜ì •í•´ì•¼ í•¨) 
    - let initializeDb = IndexedDB.open(name, version) // name = ë¬¸ìì—´, ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ // verison = ì–‘ì˜ ì •ìˆ˜ ë²„ì „ 1
2. ë°ì´í„°ë² ì´ìŠ¤ ObjectStore ìƒì„±
    - ObjectStore ë°ì´í„°ë¥¼ ë‹´ëŠ” ê³µê°„ / ì—¬ëŸ¬ê°œê°€ ìˆì„ ìˆ˜ ìˆì§€ë§Œ ObjectStoreì´ë¦„ì€ ê³ ìœ í•´ì•¼ í•¨.
    - ObjectStore ìƒì„± ë°©ë²• 3ê°€ì§€
        - datebase.createObjectStore('store name',{keyPath:'id'}) // ì‚¬ìš©ìì˜ ì•„ì´ë””ê°€ KEY ì—­í• ì„ í•´ì¤Œ // key generatorë¥¼ ë§Œë“¤ì–´ì„œ ì—°ì†ëœ ìˆ«ìë¥¼ ê° ê°ì²´ì— ì €ì¥
        - datebase.createObjectStore('store name',{autoIncrement:true}) // key generatorë¥¼ ë§Œë“¤ì–´ì„œ ì—°ì†ëœ ìˆ«ìë¥¼ ê°ì²´ì™€ ìƒê´€ì—†ì´ ë”°ë¡œ ì €ì¥
        - database.createObjectStore('store name',{keyPath:'id', autoIncrement:true}) // key generatorë¥¼ ë§Œë“¤ì–´ì„œ ì—°ì†ëœ ìˆ«ìë¥¼ ê°ì²´idë¼ëŠ” ì†ì„±ì— ì €ì¥ // íŠ¹ì •í•œ keyì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ëª¨ë‘ ì¸ë±ì‹±í•  ë•Œ ì‚¬ìš©
        - initializeDb.onupgradeneed = () =>{
            const database = initializeDb.result
            const objectStore = database.createObjectStore('store name'.{keyPath:'id'})
        }
        - const usersStore = database.createObjectStore('users',{keyPath:'id'}) 
            - createObjectStore(tableName) í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ usersStoreë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ObjectStoreë¥¼ ìƒì„±í•˜ê³  usersë¼ëŠ” í…Œì´ë¸”ì„ ë§Œë“¦
            - usersStore ì €ì¥ì†Œì— usersë¼ëŠ” í…Œì´ë¸”ì´ ìƒì„±ë¨.
            - {keyPath:'id'}ë¡œ 'id'ë¥¼ ì œê³µí•˜ëŠ” ë° í•„ìš”í•œ ì¸ë±ìŠ¤ í•„ë“œì˜ ì´ë¦„ì„ ì§€ì •
3. Transaction ì‹œì‘ - ë°ì´í„° ì¶”ê°€, ê²€ìƒ‰ ì‘ì—… ìš”ì²­(ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë„£ê³  ë¹¼ëŠ”ì§€)
    - ê°ì²´ ì§€í–¥ì´ê¸° ë•Œë¬¸ì— objectStore ì´ë¦„ì„ ëª…ì‹œí•´ì„œ ë„£ì–´ì¤˜ì•¼ í•¨.
    - const transaction = database.transaction('objectStore Name', 'Transaction Mode')
        - transaction mode : readonly, readwrite, versionchange
            readwrite : ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ObjectStoreì˜ ë°ì´í„°ë¥¼ ì½ê³  ë‹¤ì‹œ ì“¸ ë•Œ
    - objectStore ë°ì´í„° ì¶”ê°€í•˜ê¸°
        const todos = database.createObjectStore('todos',{autoIncrement:true})
        functino addTodos(){
            const todo = {
                title:'todo1',
                text:'no.1 thing to do'
            }
        }
        const transaction = database. transaction('todos','readwrtie') 
            // todos ObjectStoreì— readwrite ê¶Œí•œìœ¼ë¡œ transaction ì‹œì‘í•˜ê¸°
        const todos = transaction.objectStore('todos')
            // ObjectStore()í•¨ìˆ˜ë¡œ todos í…Œì´ë¸” ì„ íƒ
        todos.add(todo)
            // ì›í•˜ëŠ” ê°ì²´(todo)ë¥¼ í…Œì´ë¸”ì— ì¶”ê°€
            // return transaction.complete
    - ë°ì´í„° ì½ê¸°
        - store.get() // store.getAll()
    - ë°ì´í„° ìˆ˜ì •
        - ì¶”ê°€ì™€ ê°™ìœ¼ë‚˜ ë§ˆì§€ë§‰ì— addê°€ ì•„ë‹Œ putìœ¼ë¡œ ì§„í–‰
    - ë°ì´í„° ì‚­ì œ
        - delete ëª…ë ¹ìœ¼ë¡œ ì§„í–‰
4. indexë§ˆë‹¤ DOM ì´ë²¤íŠ¸ ìˆ˜ì‹ í•´ì„œ ì‘ì—…
5. ê²°ê³¼ ìˆ˜í–‰

 

 IndexedDB íŠ¹ì§•
ë§ì€ ì–‘ì˜ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤.
Javascript ê¸°ë°˜ì˜ ê°ì²´ì§€í–¥ ë°ì´í„°ë² ì´ìŠ¤ì´ë‹¤. (ì¦‰, Javascriptê°€ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ìë£Œí˜•ê³¼ ê°ì²´ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤)
Key-Value ë°ì´í„°ë² ì´ìŠ¤ì´ë‹¤.

IndexedDB ì‚¬ìš© íŒ¨í„´ ğŸ’¡
ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—´ê³ 
ê°ì²´ ì €ì¥ì†Œ(Object store)ë¥¼ ìƒì„±
íŠ¸ëœì­ì…˜(Transaction)ì„ ì‹œì‘í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…(ë°ì´í„° ì½ê¸°/ì¶”ê°€ ë“±)ì„ ìš”ì²­
DOM EventListnerë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì´ ì™„ë£Œë ë•Œê°€ì§€ ê¸°ë‹¤ë¦¬ê³  ê²°ê³¼ë¥¼ í™•ì¸

ObjectStoreë€â“
IndexedDBì˜ ë°ì´í„°ë¥¼ ë‹´ëŠ” ê³µê°„
ëª¨ë“  ìœ í˜•ì˜ ê°’ì„ í‚¤-ê°’ ë˜ëŠ” ì—¬ëŸ¬ê°œì˜ í‚¤-ê°’ìœ¼ë¡œ ì €ì¥ ê°€ëŠ¥
ì—¬ëŸ¬ê°œì˜ ë ˆì½”ë“œ(key-value) ê´€ë ¨ ì¿¼ë¦¬ ì§€ì›
IndexedDBëŠ” value ë‚´ì˜ íŠ¹ì • ê°ì²´ë¥¼ Indexë¡œ ì§€ì •í•œ ë’¤, Indexë¡œ ì›í•˜ëŠ” valueë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
localStorageì™€ ë¹„êµí•´ ë” ë§ì€ ì–‘ì˜ ë°ì´í„° ì €ì¥ ê°€ëŠ¥